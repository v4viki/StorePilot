{% extends 'store/base.html' %}
{% load static %}
{% block title %}Invoice Detail{% endblock %}
{% block content %}

<div class="container py-5">

  <!-- Header Buttons -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="fw-bold text-gradient mb-0">Invoice Details</h2>
    <button onclick="window.print()" class="btn btn-gradient rounded-pill px-4 shadow-sm">
      <i class="fa fa-print me-2"></i> Print
    </button>
  </div>

  <!-- Invoice Card -->
  <div class="card shadow-lg border-0 rounded-4 p-4 soft-card">

    <!-- Header Section -->
    <div class="d-flex justify-content-between flex-wrap mb-4">
      <div>
        <h4 class="fw-bold mb-1">StorePilot</h4>
        <p class="text-muted small mb-2">Hello, {{ invoice.customer_name }}</p>
        <p class="text-muted small">Thank you for shopping with us!</p>
      </div>

      <div class="text-end">
        <h4 class="text-danger fw-bold mb-1">INVOICE</h4>
        <p class="small text-muted mb-0"><strong>Order #:</strong> {{ invoice.id }}</p>
        <p class="small text-muted"><strong>Date:</strong> {{ invoice.date }}</p>
      </div>
    </div>

    <hr>

    <!-- Items Table -->
    <div class="table-responsive mt-4">
      <table class="table table-borderless align-middle">
        <thead class="table-gradient text-white">
          <tr>
            <th>Item</th>
            <th class="text-center">Quantity</th>
            <th class="text-end">Subtotal</th>
          </tr>
        </thead>

        <tbody>
          <tr class="border-bottom">
            <td class="py-3">
              <span class="fw-semibold">{{ invoice.item.name }}</span>
            </td>
            <td class="text-center">{{ invoice.quantity }}</td>
            <td class="text-end">INR {{ invoice.price_per_item }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Totals Section -->
    <div class="mt-4">
      <table class="table table-borderless">
        <tbody>
          <tr>
            <td class="text-end text-muted">Subtotal</td>
            <td class="text-end fw-semibold">INR {{ invoice.total }}</td>
          </tr>
          <tr>
            <td class="text-end text-muted">Shipping & Handling</td>
            <td class="text-end fw-semibold">INR {{ invoice.shipping }}</td>
          </tr>
          <tr>
            <td class="text-end fw-bold">Grand Total</td>
            <td class="text-end fw-bold fs-5">INR {{ invoice.grand_total }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <hr class="my-4">

    <!-- Footer Message -->
    <p class="text-center text-muted small mb-0">Thank you for choosing StorePilot.</p>
    <p class="text-center text-muted small">Have a nice day!</p>

  </div>
</div>

<style>
  .text-gradient {
    background: linear-gradient(90deg, #0ea5e9, #6366f1);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .btn-gradient {
    background: linear-gradient(90deg, #0ea5e9, #6366f1);
    border: none;
    color: white;
    font-weight: 500;
    transition: 0.3s ease;
  }

  .btn-gradient:hover {
    transform: translateY(-2px);
    box-shadow: 0px 8px 24px rgba(99,102,241,0.35);
  }

  .soft-card {
    background: rgba(255, 255, 255, 0.92);
    backdrop-filter: blur(10px);
  }

  .table-gradient {
    background: linear-gradient(90deg, #0ea5e9, #ffffff);
  }

  @media print {
    .btn, nav, .navbar, .footer {
      display: none !important;
    }
    body {
      margin: 0;
      padding: 0;
    }
    .card {
      box-shadow: none !important;
    }
  }
</style>

{% endblock %}
